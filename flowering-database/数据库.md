#### 数据库

---

##### user：用户

| 列名              | 中文名   				  | 约束 |
| ----------------- | ----------------------- | ---- |
| user_id           |          				  | 主键 |
| nickname          | 昵称     				  |      |
| password			| 密码					  |      |	
| sex               | 性别(1表示男, 2表示女)  |      |
| address           | 所在省市       		  |      |
| profile  			| 个人简介 				  |      |
| head_img          | 头像     				  |      |

##### attention：关注与被关注关系

| 列名            | 中文名            | 约束     |
| --------------- | ----------------- | -------- |
| id  			  |                   | 主键     |
| user_initiative | 主动关注user_id   | user外键 |
| user_passive    | 被动关注user_id   | user外键 |

##### comment：花现评论

| 列名          | 中文名            | 约束        |
| ------------- | ----------------- | ----------- |
| comment_id    | 					| 主键  	  |
| post_id       | 被评论的帖子      | post外键    |
| user_id       | 评论人	        | user外键    |
| content 		| 评论内容 			|  			  |
| time  		| 评论时间          |             |

##### reply：评论回复

| 列名       | 中文名     | 约束         |
| ---------- | ---------- | ------------ |
| reply_id   |            | 主键         |
| comment_id | 回复的评论 | comment外键  |
| user_id    | 回复人     | user外键     |
| content    | 回复内容   |              |
| time 		 | 回复时间   |              |

##### collection：文章(only)收藏

| 列名       | 中文名       | 约束        |
| ---------- | ------------ | ----------- |
| id         |              | 主键        |
| user_id    | 收藏方       | user外键    |
| article_id | 被收藏的文章 | article外键 |

##### trumbsup：点赞（only花现）

| 列名          | 中文名            | 约束        |
| ------------- | ----------------- | ----------- |
| id 			|  					| 主键		  |
| user_id 		| 点赞的一方        | user外键    |
| post_id    	| 被点赞的帖子 	 	| post外键 	  |
| time          | 点赞时间          |             |

##### article：文章（花间）

| 列名        | 中文名   | 约束                   |
| ----------- | -------- | ---------------------- |
| article_id  |          | 主键                   |
| title       | 标题     | 					      |
| image       | 封面图   |                        |
| content     | 正文内容 | 			              |
| overview    | 内容概括 |                        |
| type_id     | 文章类型 | type外键      		  |
| time        | 发布时间 |                        |
| reading_num | 阅读量   |                        |

##### post：帖子（花现）

| 列名         | 中文名   | 约束                     |
| -----------  | -------- | ---------------------    |
| post_id      |          | 主键                     |
| txt      	   | 文字内容 |                          |
| img 		   | 图片内容 | 多张图片路径间用逗号分隔 |
| user_id      | 发帖人   | user外键                 |
| time         | 发布时间 |                          |
| topic_id     | 话题     | topic外键                |

##### message：私信

| 列名          | 中文名   | 约束     |
| ------------- | -------- | -------- |
| message_id    |          | 主键     |
| user_id_send  | 发送人   | user外键 |
| user_id_recv  | 接收人   | user外键 |
| content       | 私信内容 |          |
| time          | 发送时间 |          |

##### plant：植物

| 列名          	  | 中文名      | 约束 |
| ------------------- | ----------- | ---- |
| plant_id            |             | 主键 |
| name_cn             | 中文名      |      |
| name_en             | 英文名      |      |
| area            	  | 分布        |      |
| family              | 科属        |      |
| discription         | 描述        |      |
| conservation        | 养护        |      |
| skill               | 技巧        |      |
| imgs                | 图片用,拼接 |      |
| initial			  | 拼音首字母  |      |

##### type：文章类型

| 列名          | 中文名           |
| ------------- | ---------------- |
| type_id       | 主键             |
| type_name     | 类型名           |

##### topic：话题

| 列名       | 中文名           |
| ---------- | ---------------- |
| topic_id   | 主键             |
| topic_name | 话题名           |

---

##### 实体映射关系

| 关系			| 说明															|
| ------------- | ------------------------------------------------------------- |
| 类型 1:n 文章 | 双向															|
| 用户 m:n 文章 | 指的是用户和文章的收藏关系, 单向, 通过用户找到他所收藏的文章  |
| 用户 1:n 花现 | 双向															|
| 花现 1:n 评论 | 单向, 通过花现能找到其所有评论 								|
| 评论 1:n 回复 | 单向, 通过评论找到该条评论的所有回复 							|
| 话题 1:n 花现 | 双向 															|